/* ==========================
   Pamatstili un mainīgie
   ========================== */
:root{
  --bg-1:#fff7fb;
  --bg-2:#ffffff;
  --ink:#2b2b2b;
  --muted:#6b7280;
  --brand:#d17c9c;     /* rožains */
  --brand-2:#8b5cf6;   /* violets headerim */
  --ok:#22c55e;
  --err:#ef4444;
  --glass: rgba(255,255,255,.35);
  --glass-strong: rgba(255,255,255,.6);
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.15);
  --t: 220ms cubic-bezier(.22,.61,.36,1);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg-1:#0f1020;
    --bg-2:#0a0b14;
    --ink:#e8eef6;
    --muted:#9fb0c7;
    --brand:#f0a4c1;
    --brand-2:#a78bfa;
    --glass: rgba(255,255,255,.08);
    --glass-strong: rgba(255,255,255,.12);
    --shadow: 0 12px 36px rgba(0,0,0,.45);
  }
}

*{box-sizing:border-box}

html, body{
  margin:0;
  padding:0;
  min-height:100%;
}

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Noto Sans", sans-serif;
  color: var(--ink);
  background: linear-gradient(to bottom, var(--bg-1), var(--bg-2));
  overflow-x:hidden;
  transition: opacity 1s ease, filter 1s ease;
}

/* Globālais mākonis (lapas aizvēršanas) efekts */
.cloud-dissolve{
  opacity:.0;
  filter: blur(8px);
}

/* Fokusam akcentēts kontūrs */
:focus-visible{
  outline: 3px solid var(--brand-2);
  outline-offset: 2px;
}

/* ==========================
   Index
   ========================== */
.content-container{
  min-height: 100svh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding: clamp(16px, 4vw, 40px);
  gap: 16px;
}

.intro-title{
  font-size: clamp(28px, 4.2vw, 48px);
  color: var(--brand);
  margin: 0 0 6px 0;
  line-height: 1.1;
}

.intro-text{
  font-size: clamp(18px, 2.4vw, 24px);
  color: var(--muted);
  max-width: 900px;
  margin: 0 auto 28px auto;
}

/* Pogas ar emoji */
.hearts-container{
  display:flex;
  gap: clamp(32px, 6vw, 72px);
  justify-content:center;
  align-items:center;
  flex-wrap: wrap;
}

.emoji-button{
  width: clamp(140px, 20vw, 200px);
  height: clamp(140px, 20vw, 200px);
  position: relative;
  display:grid;
  place-items:center;
  border: none;
  background: var(--glass);
  backdrop-filter: blur(8px);
  border-radius: 24px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform var(--t), background var(--t);
}
.emoji-button:hover{ transform: translateY(-8px) scale(1.02); }
.emoji-button:active{ transform: translateY(0) scale(.98); }
.emoji-button:focus-visible{ box-shadow: 0 0 0 4px rgba(139,92,246,.35), var(--shadow); }

.button-label{
  position:absolute;
  bottom: -36px;
  width:100%;
  font-size: clamp(18px, 2.4vw, 24px);
  color: var(--ink);
  opacity:.9;
}

/* Emoji kustības */
.emoji-content{
  font-size: clamp(56px, 8vw, 88px);
  display:flex;
  align-items:center;
  justify-content:center;
  height:100%;
}

.ja-emoji{ animation: happyJump 3s ease-in-out infinite; }
@keyframes happyJump{
  0%{ transform: translateY(0) rotate(0deg); }
  20%{ transform: translateY(-24px) rotate(10deg); }
  40%{ transform: translateY(0) rotate(0deg); }
  60%{ transform: translateY(-16px) rotate(-10deg); }
  80%{ transform: translateY(0) rotate(6deg); }
  100%{ transform: translateY(0) rotate(0deg); }
}

.ne-emoji{ animation: sadPulse 2.2s ease-in-out infinite; transition: transform 1s ease, opacity 1s ease; }
@keyframes sadPulse{
  0%{ transform: scale(1); }
  50%{ transform: scale(.95); }
  100%{ transform: scale(1); }
}
.ne-emoji.collapsed{ transform: scaleY(.35); opacity:.5; }

@media (prefers-reduced-motion: reduce){
  .ja-emoji, .ne-emoji{ animation: none !important; }
}

/* ==========================
   Play
   ========================== */
.page-header{
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  background: color-mix(in oklab, var(--brand-2) 80%, black 0%);
  color:#fff;
  text-align:center;
  padding: 14px 10px;
  z-index: 10;
  box-shadow: 0 6px 20px rgba(0,0,0,.15);
}
.page-header h1{
  margin:0;
  font-weight: 700;
  font-size: clamp(18px, 2.6vw, 28px);
}

.page-main{
  display:grid;
  grid-template-rows: auto 1fr auto;
  gap: 10px;
  padding-inline: clamp(10px, 4vw, 20px);
}

/* Aktīvā kartīte */
.active-card-container{
  margin: 12px auto 0 auto;
  width: min(900px, 96%);
  z-index: 2;
  padding: 4px;
}

/* Deck (horizontāla josla apakšā) */
.deck-container{
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  height: clamp(56px, 18svh, 160px);
  display:flex;
  gap: 8px;
  padding: 8px;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  align-items: center;
}

/* Kartītes kopējais stils */
.question-card{
  background: var(--glass);
  backdrop-filter: blur(10px);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin: 0 auto;
  padding: clamp(14px, 2.2vw, 22px);
  transition: opacity var(--t), transform var(--t), background var(--t);
  width: 100%;
  max-width: 900px;
  position: relative;
  scroll-snap-align: center;
}

/* Aktīvā */
.active-card{
  opacity: 1;
}

/* Deck kartītes (kompaktas) */
.deck-card{
  width: min(86vw, 760px);
  height: 48px;
  flex: 0 0 auto;
  opacity: .85;
  overflow: hidden;
  display:flex;
  align-items:center;
  justify-content: center;
}
.deck-card:hover{ background: var(--glass-strong); }
.deck-card-lift{ transform: translateY(-6px); }

/* Animācijas */
@keyframes cardFadeIn{
  0%{ opacity:0; transform: scale(.96); }
  100%{ opacity:1; transform: scale(1); }
}
.card-fade-in{ animation: cardFadeIn .45s forwards; }

@keyframes cardSlideDownOut{
  0%{ opacity:1; transform: translateY(0); }
  100%{ opacity:0; transform: translateY(60vh); }
}
.card-slide-down-out{ animation: cardSlideDownOut 1s forwards; }

.card-question-text{
  font-size: clamp(18px, 2.4vw, 24px);
  margin: 0 0 14px 0;
  color: var(--ink);
  text-wrap: balance;
}

.card-answer-container{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content:center;
}

.card-answer-btn{
  flex: 1 1 240px;
  padding: 12px 14px;
  font-size: clamp(16px, 2.1vw, 18px);
  border: none;
  border-radius: 10px;
  background: var(--glass-strong);
  cursor: pointer;
  transition: transform var(--t), background var(--t), box-shadow var(--t);
}
.card-answer-btn:hover{ transform: translateY(-6px); }
.card-answer-btn:active{ transform: translateY(0) scale(.98); }
.card-answer-btn:focus-visible{ box-shadow: 0 0 0 4px rgba(139,92,246,.35); }

/* Pabeigšanas poga */
.finish-container{
  margin: 16px auto 24px auto;
  text-align:center;
}
.results-btn{
  display: inline-block;
  min-width: 220px;
  padding: 14px 18px;
  background: var(--brand);
  color:#fff;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  cursor: pointer;
  transition: background var(--t), transform var(--t);
  box-shadow: var(--shadow);
}
.results-btn:hover{ transform: translateY(-3px); }
.results-btn:active{ transform: translateY(0); }

/* ==========================
   Sad
   ========================== */
.intro-container{
  min-height: 100svh;
  display:grid;
  place-items:center;
  padding: 20px;
  text-align:center;
}

/* ==========================
   Pieejamība + kustību samazināšana
   ========================== */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; }
}
